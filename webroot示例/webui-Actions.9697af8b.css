:root{--bg-body:#f0f2f5;--bg-surface:#fff;--bg-input:#f5f6f7;--text-main:#1c1e21;--text-muted:#65676b;--border:#dddfe2;--primary:#1877f2;--danger:#dc3545;--success:#36a420;--warning:#f5c33b;--code-font:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,monospace;--shadow:0 1px 2px #0000001a;--radius:8px}@media (prefers-color-scheme:dark){:root{--bg-body:#18191a;--bg-surface:#242526;--bg-input:#3a3b3c;--text-main:#e4e6eb;--text-muted:#b0b3b8;--border:#3e4042;--primary:#4599ff;--danger:#f02849;--success:#45bd62;--warning:#f7b928}}*{box-sizing:border-box;-webkit-tap-highlight-color:transparent;outline:none}body{background:var(--bg-body);color:var(--text-main);padding:0;padding-top:max(15px,env(safe-area-inset-top));user-select:none;height:100vh;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:14px;overflow:hidden}img,a{-webkit-user-drag:none}input,textarea,.log-viewer,.code-editor,.selectable{user-select:text}.container{flex-direction:column;width:100%;max-width:800px;height:100%;margin:0 auto;padding:10px;display:flex}.header{flex-shrink:0;justify-content:space-between;align-items:center;margin-bottom:10px;padding:0 5px;display:flex}.header-left{flex-direction:column;display:flex}.title{color:var(--primary);letter-spacing:-.5px;margin:0;font-size:20px;font-weight:800}.status-bar{align-items:center;gap:8px;margin-top:2px;display:flex}.nav-tabs{scrollbar-width:none;flex-shrink:0;gap:8px;margin-bottom:10px;padding:0 4px 4px;display:flex;overflow-x:auto}.nav-tabs::-webkit-scrollbar{display:none}.nav-item{background:var(--bg-surface);border:1px solid var(--border);color:var(--text-muted);border-radius:20px;flex:none;padding:8px 16px;font-size:13px;font-weight:600;transition:all .2s cubic-bezier(.25,.8,.25,1)}.nav-item.active{background:var(--primary);color:#fff;border-color:var(--primary);transform:scale(1.02);box-shadow:0 2px 4px #1877f24d}.tab-content-wrapper{flex-direction:column;flex:1;min-height:0;display:flex;position:relative}.tab-pane{width:100%;height:100%;animation:.25s ease-out fadeIn;display:none}.tab-pane.active{flex-direction:column;display:flex}@keyframes fadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}.card{background:var(--bg-surface);border-radius:var(--radius);box-shadow:var(--shadow);border:1px solid var(--border);flex-direction:column;margin-bottom:10px;padding:12px;display:flex;overflow:hidden}.full-height-card{flex:1;min-height:0;margin-bottom:0}.card-header{flex-shrink:0;justify-content:space-between;align-items:center;margin-bottom:12px;display:flex}.card-header h3{margin:0;font-size:16px;font-weight:600}.btn{cursor:pointer;border:none;border-radius:6px;justify-content:center;align-items:center;padding:6px 12px;font-size:13px;font-weight:600;transition:all .2s;display:inline-flex}.btn:hover{filter:brightness(.95);transform:translateY(-1px)}.btn:active{filter:brightness(.9);transform:translateY(0)}.btn-primary{background:var(--primary);color:#fff}.btn-danger-outline{border:1px solid var(--danger);color:var(--danger);background:0 0}.btn-icon{background:var(--warning);color:#000;border-radius:50%;width:36px;height:36px;padding:0;transition:background .3s,color .3s;box-shadow:0 2px 4px #00000026}.btn-icon-sm{color:var(--text-muted);background:0 0;border-radius:4px;width:28px;height:28px;padding:0}.btn-close{color:var(--text-muted);background:0 0;border:none;border-radius:50%;outline:none;flex-shrink:0;width:32px;height:32px;padding:0;transition:all .2s}.btn-close:hover{color:var(--text-main);transform:rotate(90deg)}.btn-close:active{transform:scale(.9)}.full-width{width:100%;padding:12px;font-size:15px}.shadow{box-shadow:0 4px 12px #0003}.form-control,.form-select{border-radius:var(--radius);border:1px solid var(--border);background:var(--bg-input);width:100%;color:var(--text-main);appearance:none;padding:10px;font-size:14px;transition:border-color .2s}.form-control:focus,.form-select:focus{border-color:var(--primary)}.form-select{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2365676b'%3E%3Cpath d='M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z'/%3E%3C/svg%3E");background-position:right 8px center;background-repeat:no-repeat;background-size:20px;padding-right:30px}.mb-2{margin-bottom:8px}.search-bar{background:var(--bg-input);border-radius:20px;align-items:center;height:40px;margin-bottom:12px;padding:0 12px;transition:box-shadow .2s;display:flex}.search-bar:focus-within{box-shadow:0 0 0 2px #1877f233}.search-bar.compact{border-radius:8px;height:36px}.icon-placeholder{align-items:center;margin-right:8px;display:flex}.search-bar input{width:100%;height:100%;color:var(--text-main);background:0 0;border:none;padding:0}.app-layout-container{background:var(--bg-surface);border-radius:var(--radius);border:1px solid var(--border);flex-direction:column;flex:1;min-height:0;display:flex;position:relative;overflow:hidden}.app-search-wrapper{background:var(--bg-surface);border-bottom:1px solid var(--border);z-index:10;flex-shrink:0;padding:12px}.app-search-wrapper .search-bar{margin-bottom:0}.scrollable-list{-webkit-overflow-scrolling:touch;flex:1;padding-bottom:80px;overflow-y:auto}.list-group{flex-direction:column;display:flex}.list-item{border-bottom:1px solid var(--border);cursor:pointer;justify-content:space-between;align-items:center;padding:12px 16px;transition:background .1s;display:flex}.list-item:hover{background:var(--bg-input)}.list-item:active{background:#0000000d}.app-main{flex:1;align-items:center;min-width:0;margin-right:10px;display:flex}.app-icon-wrapper{background:var(--bg-input);border-radius:8px;flex-shrink:0;justify-content:center;align-items:center;width:40px;height:40px;margin-right:12px;display:flex}.app-content{flex:1;min-width:0}.app-header{align-items:center;gap:6px;margin-bottom:2px;display:flex}.app-name{white-space:nowrap;text-overflow:ellipsis;font-size:15px;font-weight:600;overflow:hidden}.app-end{flex-shrink:0;align-items:center;display:flex}.fab-filter-container,.fab-env-container,.fab-log-container{z-index:100;flex-direction:column;align-items:flex-end;gap:10px;display:flex;position:absolute;bottom:20px;right:20px}.fab-main{border-radius:50%;justify-content:center;align-items:center;width:56px;height:56px;padding:0;transition:transform .2s;display:flex;box-shadow:0 4px 12px #0000004d}.fab-main:active{transform:scale(.95)}.filter-options{opacity:0;pointer-events:none;flex-direction:column;align-items:flex-end;gap:8px;transition:all .25s cubic-bezier(.4,0,.2,1);display:flex;transform:translateY(20px)}.filter-options.show{opacity:1;pointer-events:auto;transform:translateY(0)}.filter-opt{background:var(--bg-surface);border:1px solid var(--border);color:var(--text-main);white-space:nowrap;border-radius:20px;padding:8px 16px;font-weight:600;transition:all .2s;box-shadow:0 2px 8px #00000026}.filter-opt.active{background:var(--primary);color:#fff;border-color:var(--primary)}.grid-list{grid-template-columns:repeat(auto-fill,minmax(100px,1fr));align-content:start;gap:8px;display:grid}.grid-list.list-mode{grid-template-columns:1fr;gap:4px}.scroll-y{flex:1;overflow-y:auto}.env-item{background:var(--bg-input);text-align:center;cursor:pointer;border:1px solid #0000;border-radius:12px;flex-direction:column;justify-content:center;align-items:center;height:56px;padding:6px;transition:all .2s;display:flex;position:relative}.list-mode .env-item{text-align:left;flex-direction:row;justify-content:space-between;height:50px;padding:0 16px}.list-mode .env-info{align-items:center;gap:12px;display:flex}.list-mode .env-icon{margin-bottom:0}.list-mode .env-stats{gap:6px;display:flex}.env-item:hover{background:#e4e6eb;transform:translateY(-1px)}.env-item:active{transform:scale(.98)}.env-icon{margin-bottom:2px;transform:scale(.85)}.env-name{word-break:break-all;max-height:28px;font-size:12px;font-weight:600;line-height:1.2;overflow:hidden}.env-arrow{display:none}.badge{text-transform:uppercase;color:#fff;letter-spacing:.5px;border-radius:4px;padding:3px 6px;font-size:10px;font-weight:700}.badge-pill{border-radius:10px;padding:3px 8px}.badge-gray{background:var(--text-muted)}.badge-success{background:var(--success)}.badge-warning{background:var(--warning);color:#000}.badge-primary{background:var(--primary)}.badge-outline{border:1px solid var(--border);color:var(--text-muted);background:0 0;font-size:9px}.modal{z-index:2000;backdrop-filter:blur(3px);opacity:0;background:#0009;justify-content:center;align-items:center;width:100%;height:100%;transition:opacity .25s;display:none;position:fixed;top:0;left:0}.modal.show{opacity:1;display:flex}.modal.hiding{opacity:0}.modal.hiding .modal-content{transform:translateY(20px)}.modal-content{background:var(--bg-surface);border-radius:16px;flex-direction:column;width:92%;max-width:420px;height:auto;max-height:85vh;transition:transform .25s cubic-bezier(.16,1,.3,1),background-color .3s,color .3s;animation:.3s cubic-bezier(.16,1,.3,1) slideUp;display:flex;transform:translateY(0);box-shadow:0 10px 25px #0003}.modal-content.dark-theme{color:#e4e6eb;background-color:#252526}.modal-content.dark-theme .modal-header,.modal-content.dark-theme .modal-footer,.modal-content.dark-theme .alert-info,.modal-content.dark-theme .rule-row{border-color:#3e4042}.modal-content.large{max-width:800px;height:70vh}.modal-content.small{max-width:320px}.modal-content.flex-column{flex-direction:column;display:flex}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.modal-header{border-bottom:1px solid var(--border);flex-shrink:0;justify-content:space-between;align-items:center;padding:10px 16px;transition:border-color .3s;display:flex}.modal-header.nowrap{flex-wrap:nowrap;gap:10px}.header-title-group{flex:1;min-width:0;margin-top:-2px}.header-actions-group{flex-shrink:0;align-items:center;gap:12px;margin-top:-2px;display:flex}.modal-body{flex-direction:column;flex:1;min-height:0;padding:16px;display:flex;overflow-y:auto}.modal-footer{border-top:1px solid var(--border);flex-shrink:0;gap:10px;padding:16px;transition:border-color .3s;display:flex}.no-padding{padding:0}.relative{position:relative}.flex-grow{flex:1;min-height:0}.app-info-header{background:var(--bg-input);border-radius:12px;align-items:center;margin-bottom:20px;padding:12px;display:flex}.app-icon{justify-content:center;align-items:center;width:48px;height:48px;margin-right:12px;display:flex}.mode-selector{border:1px solid var(--border);border-radius:8px;margin-top:8px;display:flex;overflow:hidden}.mode-selector label{text-align:center;cursor:pointer;flex:1}.mode-selector input{display:none}.mode-selector span{background:var(--bg-input);border-right:1px solid var(--border);padding:10px;font-size:13px;transition:background .2s;display:block}.mode-selector label:last-child span{border-right:none}.mode-selector input:checked+span{background:var(--text-main);color:var(--bg-surface);font-weight:600}.mode-selector input[value=MONITOR]:checked+span{background:var(--warning);color:#000}.mode-selector input[value=PASSTHROUGH]:checked+span{background:var(--success);color:#fff}.editor-pane{flex-direction:column;flex:1;display:flex}.editor-pane.scroll-y{overflow-y:auto}.editor-pane.full-height{flex:1;width:100%;height:100%}.fade-content{opacity:0;transition:opacity .25s,transform .25s;display:none;transform:translateY(10px)}.fade-content.active{opacity:1;display:flex;transform:translateY(0)}.fade-content.hidden{opacity:0;display:none}.alert-info{color:var(--primary);text-align:center;border-bottom:1px solid var(--border);transform-origin:top;opacity:1;background:#1877f21a;flex-shrink:0;max-height:40px;padding:8px 10px;font-size:11px;transition:all .3s cubic-bezier(.4,0,.2,1);overflow:hidden}.alert-info.collapsed{opacity:0;border-bottom-width:0;max-height:0;padding-top:0;padding-bottom:0}.rule-row{border-bottom:1px solid var(--border);background:var(--bg-surface);flex-shrink:0;align-items:center;gap:8px;padding:6px 10px;display:flex}.rule-inputs{flex-direction:column;flex:1;gap:4px;display:flex}.rule-type{width:90px;padding:6px 20px 6px 6px;font-size:12px}.fab-container{pointer-events:none;justify-content:center;display:flex;position:absolute;bottom:20px;left:0;right:0}.fab-container button{pointer-events:auto;border-radius:20px;width:auto;padding:8px 20px;font-size:13px}.suggestion-box{background:var(--bg-surface);border:1px solid var(--border);z-index:3000;border-radius:8px;max-height:200px;display:none;position:fixed;overflow-y:auto;box-shadow:0 4px 16px #0003}.suggestion-item{cursor:pointer;border-bottom:1px solid var(--border);color:var(--text-main);align-items:center;padding:10px 12px;font-size:13px;display:flex}.suggestion-item:active{background:var(--bg-input)}.s-icon{width:16px;margin-right:10px;display:flex}.s-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.table-container{border:1px solid var(--border);border-radius:8px;flex:1;min-height:0;overflow:auto}.table{border-collapse:collapse;width:100%;font-size:12px}.table th{text-align:left;background:var(--bg-input);z-index:10;border-bottom:1px solid var(--border);padding:10px 8px;font-weight:600;position:sticky;top:0}.table td{border-bottom:1px solid var(--border);vertical-align:top;padding:8px}.log-viewer{color:#d4d4d4;font-family:var(--code-font);white-space:pre-wrap;background:#1e1e1e;border-radius:8px;flex:1;min-height:0;padding:12px;font-size:11px;line-height:1.4;overflow:auto}.code-editor{color:#d4d4d4;width:100%;height:100%;font-family:var(--code-font);resize:none;background:#1e1e1e;border:1px solid #3e3e42;border-radius:4px;outline:none;padding:15px;font-size:12px;line-height:1.5}.hidden{display:none!important}.text-muted{color:var(--text-muted)}.text-center{text-align:center}.font-monospace{font-family:var(--code-font)}.fw-bold{font-weight:600}.text-truncate{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.d-block{display:block}.spacer{flex-shrink:0;height:60px}.no-scrollbar::-webkit-scrollbar{display:none}.break-all{word-break:break-all}.empty-state{text-align:center;color:var(--text-muted);padding:40px 20px;font-size:14px}.full-col{grid-column:1/-1}.op-tag{color:#fff;font-size:9px;font-weight:700;font-family:var(--code-font);border-radius:3px;padding:2px 5px}.op-OPEN{background:#17a2b8}.op-READ{background:#28a745}.op-WRITE{background:#fd7e14}.op-CREATE{background:#6f42c1}.op-MKDIR{background:#6610f2}.op-RMDIR{background:#dc3545}.op-UNLINK{background:#e83e8c}