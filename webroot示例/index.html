<!DOCTYPE html><html lang=zh><link rel=stylesheet href=webui-Actions.9697af8b.css><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Namespace Proxy</title><body>
    <div class=container>
        <div class=header>
            <div class=header-left>
                <h2 class=title>NAMESPACE PROXY</h2>
                <div class=status-bar>
                    <span class="badge badge-gray" id=statusBadge>...</span>
                    <small id=statusInfo>Checking</small>
                </div>
            </div>
            <button id=btnToggleStatus class="btn btn-icon"></button>
        </div>

        <div class=nav-tabs>
            <button class="active nav-item" data-target=content-apps>应用绑定</button>
            <button class=nav-item data-target=content-envs>环境管理</button>
            <button class=nav-item data-target=content-io>监控</button>
            <button class=nav-item data-target=content-log>日志</button>
        </div>

        <div class=tab-content-wrapper>
            
            <div id=content-apps class="active tab-pane">
                <div class=app-layout-container>
                    <div class=app-search-wrapper>
                        <div class=search-bar>
                            <span class=icon-placeholder id=iconSearch></span>
                            <input id=appSearch placeholder=搜索应用名称...>
                        </div>
                    </div>
                    <div id=appList class="list-group scrollable-list"></div>
                    <div class=fab-filter-container>
                        <div class=filter-options id=filterOptions>
                            <button class="active filter-opt" data-filter=filterUser>用户应用</button>
                            <button class=filter-opt data-filter=filterSystem>系统应用</button>
                            <button class=filter-opt data-filter=filterBound>已绑定</button>
                        </div>
                        <button id=btnFilterFab class="btn btn-primary fab-main"><span id=iconFilter></span></button>
                    </div>
                </div>
            </div>

            
            <div id=content-envs class=tab-pane>
                <div class="card full-height-card relative">
                    <div class=card-header>
                        <h3>环境列表</h3>
                        <button id=btnNewEnv class="btn btn-primary btn-sm">新建</button>
                    </div>
                    <div id=envList class="grid-list scroll-y"></div>
                    <div class=fab-env-container>
                        <button id=btnEnvViewToggle class="btn btn-primary fab-main shadow"><span id=iconEnvView></span></button>
                    </div>
                </div>
            </div>

            
            <div id=content-io class=tab-pane>
                <div class="card full-height-card relative">
                    <div style=align-items:center;gap:10px;margin-bottom:10px;display:flex>
                        <div class="compact search-bar" style=flex:1;margin-bottom:0>
                            <span class=icon-placeholder id=iconIoSearch></span>
                            <input id=ioSearch placeholder=搜索操作记录...>
                        </div>
                        <button id=btnMonitorIgnore class="btn btn-icon-sm" style=background:var(--bg-input);width:36px;height:36px;color:var(--text-muted)></button>
                    </div>
                    <div class=table-container id=ioTableContainer>
                        <table class=table>
                            <thead><tr><th style=width:140px>时间<th>应用<th style=width:60px>操作<th>详情</thead>
                            <tbody id=ioTableBody></tbody>
                        </table>
                        <div id=ioLoadingIndicator class="hidden p-2 text-center text-muted">加载中...</div>
                    </div>
                    
                    <div class=fab-io-container style=z-index:10;position:absolute;bottom:20px;right:20px>
                        <button id=btnClearIo class="btn btn-primary fab-main shadow" style=background:var(--danger)>
                            <span id=iconClearIo></span>
                        </button>
                    </div>
                </div>
            </div>

            
            <div id=content-log class=tab-pane>
                <div class="card full-height-card relative">
                    <div class=mb-2>
                        <select id=logSourceSelect class=form-select>
                            <option value=internal>注入日志</option>
                            <option value=zygisk>Zygisk (Logcat)</option>
                        </select>
                    </div>
                    <div id=logViewer class=log-viewer></div>
                    <div id=sysLoadingIndicator class="hidden small text-center text-muted" style=color:#fff;background:#00000080;position:absolute;bottom:5px;left:0;right:0>加载中...</div>
                    
                    <div class=fab-log-container style=z-index:10;position:absolute;bottom:20px;right:20px>
                        <button id=btnClearLog class="btn btn-primary fab-main shadow" style=background:var(--danger)>
                            <span id=iconClearLog></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    
    <div id=appConfigModal class=modal>
        <div class=modal-content>
            <div class=modal-header>
                <h3>应用绑定</h3>
                <button class=btn-close onclick="closeModal('appConfigModal')"></button>
            </div>
            <div class=modal-body>
                <div class=app-info-header>
                    <div id=bindAppIcon class=app-icon></div>
                    <div style=overflow:hidden>
                        <div id=bindAppName class="fw-bold text-truncate">App Name</div>
                        <small id=bindAppPkg class="d-block font-monospace text-muted text-truncate">com.pkg</small>
                    </div>
                </div>
                <div class=form-group>
                    <label>选择环境</label>
                    <select id=bindEnvSelect class=form-select><option value>未绑定 (清除)</select>
                </div>
                <div class=form-group>
                    <label>运行模式</label>
                    <div class=mode-selector>
                        <label><input type=radio name=bindMode id=modeDefault value checked><span>默认</span></label>
                        <label><input type=radio name=bindMode id=modeMonitor value=MONITOR><span>监控</span></label>
                        <label><input type=radio name=bindMode id=modePassthrough value=PASSTHROUGH><span>直通</span></label>
                    </div>
                    <div class=mt-2 style=padding-left:4px>
                        <label style=cursor:pointer;align-items:center;gap:8px;display:flex>
                            <input type=checkbox id=checkMerge> 
                            <span>启用合并 (MERGE) <small class=text-muted style=font-weight:400>- 防止挂载侧漏</small></span>
                        </label>
                    </div>
                </div>
            </div>
            <div class=modal-footer>
                <button id=btnSaveBinding class="btn btn-primary full-width">保存绑定</button>
            </div>
        </div>
    </div>

    
    <div id=newEnvModal class=modal>
        <div class="modal-content small">
            <div class=modal-header>
                <h3>新建环境</h3>
                <button class=btn-close onclick="closeModal('newEnvModal')"></button>
            </div>
            <div class=modal-body>
                <input id=newEnvName class=form-control placeholder="例如: GameScope">
            </div>
            <div class=modal-footer>
                <button id=btnCreateEnv class="btn btn-primary full-width">创建</button>
            </div>
        </div>
    </div>

    
    <div id=envEditorModal class=modal>
        <div class="flex-column large modal-content">
            <div class="modal-header nowrap">
                <div class=header-title-group>
                    <h3 id=editorEnvName class=text-truncate>Env</h3>
                    <small class=text-muted>规则配置</small>
                </div>
                <div class=header-actions-group>
                    <div class=toggle-group>
                        <label><input type=radio name=editorMode value=visual checked><span>图形</span></label>
                        <label><input type=radio name=editorMode value=raw><span>源码</span></label>
                    </div>
                    <button class=btn-close onclick="closeModal('envEditorModal')"></button>
                </div>
            </div>
            <div class="flex-grow modal-body no-padding relative" style=overflow:hidden>
                <div id=editorAlert class="alert-info sticky-top">映射至 <b>/data/media/0/</b></div>
                <div id=editorVisual class="active editor-pane fade-content scroll-y">
                    <div id=ruleBuilderContainer></div>
                    <div class=spacer></div>
                </div>
                <div id=editorRaw class="editor-pane fade-content full-height hidden">
                    <textarea id=envRuleContent class=code-editor></textarea>
                </div>
                <div class=fab-container><button id=btnAddRuleRow class="btn btn-primary rounded shadow">添加规则</button></div>
            </div>
            <div class=modal-footer>
                <button id=btnDeleteEnv class="btn btn-danger-outline">删除</button>
                <button id=btnSaveEnv class="btn btn-primary">保存</button>
            </div>
        </div>
    </div>

    
    <div id=monitorIgnoreModal class=modal>
        <div class="flex-column large modal-content">
            <div class="modal-header nowrap">
                <div class=header-title-group>
                    <h3>监控过滤</h3>
                    <small class=text-muted>monitor_ignore.conf</small>
                </div>
                <div class=header-actions-group>
                    <div class=toggle-group>
                        <label><input type=radio name=ignoreMode value=visual checked><span>图形</span></label>
                        <label><input type=radio name=ignoreMode value=raw><span>源码</span></label>
                    </div>
                    <button class=btn-close onclick="closeModal('monitorIgnoreModal')"></button>
                </div>
            </div>
            <div class="flex-grow modal-body no-padding relative" style=overflow:hidden>
                <div id=alertIgnore class="alert-info sticky-top">匹配规则：<b>前缀匹配</b></div>
                <div id=ignoreVisual class="active editor-pane fade-content scroll-y">
                    <div id=ignoreBuilderContainer></div>
                    <div class=spacer></div>
                </div>
                <div id=ignoreRaw class="editor-pane fade-content full-height hidden">
                    <textarea id=monitorIgnoreContent class=code-editor></textarea>
                </div>
                <div class=fab-container id=fabIgnore><button id=btnAddIgnoreRow class="btn btn-primary rounded shadow">添加路径</button></div>
            </div>
            <div class=modal-footer>
                <button id=btnSaveIgnore class="btn btn-primary full-width">保存配置</button>
            </div>
        </div>
    </div>
    
    <div id=suggestionBox class=suggestion-box></div>
    <script src=webui-Actions.54ca2825.js type=module></script>

